Day #3 -ğ—›ğ—¼ğ˜„ ğ—ªğ—”ğ—Ÿ(ğ—ªğ—¿ğ—¶ğ˜ğ—²-ğ—”ğ—µğ—²ğ—®ğ—± ğ—Ÿğ—¼ğ—´ğ—´ğ—¶ğ—»ğ—´ ) ğ˜„ğ—¼ğ—¿ğ—¸ğ˜€:

In simple words, It is some file(log file) in which we write all our update queries with some reference pointer and then run them in sync on the database. This ensures durability and atomicity. If the disk crashes then also we have the data with us. This is the power given by WAL. 

Note:- WAL has ğ™¡ğ™¤ğ™œğ™ğ™˜ğ™–ğ™¡ ğ™™ğ™–ğ™©ğ™– ğ™–ğ™™ğ™™ğ™§ğ™šğ™¨ğ™¨ to track the current status of the transaction, so that even if the logs fails, there is a reference to which the queries have been run.

This also provides the power to get a data snapshot at any particular point of time. ğ—Ÿğ—¼ğ—´ ğ—¦ğ—²ğ—¾ğ˜‚ğ—²ğ—»ğ—°ğ—² ğ—¡ğ˜‚ğ—ºğ—¯ğ—²ğ—¿(ğ—Ÿğ—¦ğ—¡) keeps track of the sequence of changes.

Here is a simple example:-

ğ‘ºğ‘»ğ‘¨ğ‘¹ğ‘» ğ‘»ğ‘¹ğ‘¨ğ‘µğ‘ºğ‘¨ğ‘ªğ‘»ğ‘°ğ‘¶ğ‘µ;
UPDATE employees SET salary = 50000 WHERE id = "1";

snapshot in WAL:-
LSN: 10000001
Page Number: 12345
Offset: 500
Old Data: 40000
New Data: 50000

ğ‘ªğ‘¶ğ‘´ğ‘´ğ‘°ğ‘»; (WAL data is flushed)

Note:- Database engines have inner implementation of WAL(eg. innoDB of MySQL) and as a dev, we dont have to do anything, though we can implement it from our side as well but, it would be an overkill.

A nice video to understand WAL in more detail by Arpit Bhayani - https://lnkd.in/gXTvUwbr

An example implementation of WAL in java - https://lnkd.in/g8qF488G
